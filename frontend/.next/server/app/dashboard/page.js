(()=>{var e={};e.id=702,e.ids=[702],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},7310:e=>{"use strict";e.exports=require("url")},5307:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>d.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>l});var a=t(7096),r=t(6132),n=t(7284),d=t.n(n),i=t(2564),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(s,o);let l=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1618)),"C:\\Users\\cshii\\OneDrive\\Desktop\\issue-tracker\\frontend\\app\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,5345)),"C:\\Users\\cshii\\OneDrive\\Desktop\\issue-tracker\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\cshii\\OneDrive\\Desktop\\issue-tracker\\frontend\\app\\dashboard\\page.tsx"],p="/dashboard/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},6686:(e,s,t)=>{Promise.resolve().then(t.bind(t,8661))},8661:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>DashboardPage});var a=t(784),r=t(1440),n=t.n(r),d=t(9885),i=t(1778),o=t(9576),l=t(7309),c=t(6573);let p=["open","in_progress","closed","archived"];function DashboardPage(){let e=(0,i.a)({queryKey:["projects"],queryFn:o.mW}),s=(0,d.useMemo)(()=>e.data?.projects?e.data.projects.slice(0,5):[],[e.data?.projects]),t=(0,d.useMemo)(()=>e.data?.projects.map(e=>e.id)??[],[e.data?.projects]),r=(0,i.a)({queryKey:["dashboard-metrics",t],enabled:t.length>0,queryFn:async()=>{let e=await Promise.all(t.map(async e=>{let s={open:0,in_progress:0,closed:0,archived:0};return await Promise.all(p.map(async t=>{let a=await (0,o.EG)(e,{status:t,page:1,limit:1});s[t]=a.total})),s}));return e.reduce((e,s)=>{let t=s.open+s.in_progress>0,a=!t&&s.closed>0;return e.open+=s.open,e.inProgress+=s.in_progress,e.done+=s.closed,e.archived+=s.archived,e.projectsInProgress+=t?1:0,e.projectsDone+=a?1:0,e.totalIssues+=s.open+s.in_progress+s.closed+s.archived,e},{totalIssues:0,inProgress:0,done:0,open:0,archived:0,projectsInProgress:0,projectsDone:0})}}),x=(0,d.useMemo)(()=>{if(!r.data)return 0;let e=r.data.open+r.data.inProgress+r.data.done;return 0===e?0:Math.round(r.data.done/e*100)},[r.data]);return(0,a.jsxs)("div",{className:"dt-page",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"dt-title",children:"Dashboard"}),a.jsx("p",{className:"dt-subtitle",children:"Overview of project activity and quick navigation."})]}),a.jsx(n(),{href:"/projects",className:"dt-btn-primary",children:"Manage Projects"})]}),e.isLoading&&a.jsx(l.Z,{label:"Loading dashboard..."}),e.isError&&a.jsx(c.Z,{message:e.error.message}),e.isSuccess&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:[a.jsx(MetricCard,{label:"Total Projects",value:e.data.projects.length,tone:"neutral"}),a.jsx(MetricCard,{label:"Projects In Progress",value:r.data?.projectsInProgress??0,tone:"amber",loading:r.isLoading}),a.jsx(MetricCard,{label:"Done Projects",value:r.data?.projectsDone??0,tone:"green",loading:r.isLoading}),a.jsx(MetricCard,{label:"Completion Rate",value:`${x}%`,tone:"slate",loading:r.isLoading})]}),(0,a.jsxs)("div",{className:"grid gap-4 xl:grid-cols-5",children:[a.jsx(MetricCard,{label:"Total Issues",value:r.data?.totalIssues??0,tone:"neutral",loading:r.isLoading}),a.jsx(MetricCard,{label:"Open",value:r.data?.open??0,tone:"slate",loading:r.isLoading}),a.jsx(MetricCard,{label:"In Progress",value:r.data?.inProgress??0,tone:"amber",loading:r.isLoading}),a.jsx(MetricCard,{label:"Done",value:r.data?.done??0,tone:"green",loading:r.isLoading}),a.jsx(MetricCard,{label:"Archived",value:r.data?.archived??0,tone:"neutral",loading:r.isLoading})]}),r.isError&&a.jsx(c.Z,{message:r.error.message}),(0,a.jsxs)("div",{className:"dt-card space-y-4 p-5",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-base font-semibold text-slate-900",children:"Issue Status Overview"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Across all projects"})]}),a.jsx(StatusRow,{label:"Open",value:r.data?.open??0,total:r.data?.totalIssues??0,color:"bg-slate-400",loading:r.isLoading}),a.jsx(StatusRow,{label:"In Progress",value:r.data?.inProgress??0,total:r.data?.totalIssues??0,color:"bg-amber-400",loading:r.isLoading}),a.jsx(StatusRow,{label:"Done",value:r.data?.done??0,total:r.data?.totalIssues??0,color:"bg-green-500",loading:r.isLoading}),a.jsx(StatusRow,{label:"Archived",value:r.data?.archived??0,total:r.data?.totalIssues??0,color:"bg-slate-300",loading:r.isLoading})]}),(0,a.jsxs)("div",{className:"dt-card overflow-hidden",children:[a.jsx("div",{className:"border-b border-slate-200 bg-slate-50 px-4 py-3",children:a.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Recent Projects"})}),(0,a.jsxs)("table",{className:"dt-table",children:[a.jsx("thead",{className:"dt-thead",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-4 py-3",children:"Project"}),a.jsx("th",{className:"px-4 py-3",children:"Key"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Action"})]})}),a.jsx("tbody",{children:0===s.length?a.jsx("tr",{children:a.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-slate-500",children:"No projects yet."})}):s.map(e=>(0,a.jsxs)("tr",{className:"dt-row",children:[(0,a.jsxs)("td",{className:"px-4 py-4",children:[a.jsx("p",{className:"font-medium text-slate-900",children:e.name}),a.jsx("p",{className:"text-xs text-slate-500",children:e.description||"No description provided."})]}),a.jsx("td",{className:"px-4 py-4 text-slate-600",children:e.key}),a.jsx("td",{className:"px-4 py-4 text-right",children:a.jsx(n(),{href:`/projects/${e.id}/issues`,className:"dt-btn-ghost inline-flex",children:"View Issues"})})]},e.id))})]})]})]})]})}function MetricCard({label:e,value:s,tone:t,loading:r=!1}){return(0,a.jsxs)("div",{className:`dt-kpi ${{neutral:"border-slate-200",slate:"border-slate-300",amber:"border-amber-200 bg-amber-50/40",green:"border-green-200 bg-green-50/40"}[t]}`,children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:e}),a.jsx("p",{className:`mt-3 text-3xl font-semibold ${{neutral:"text-slate-900",slate:"text-slate-800",amber:"text-amber-700",green:"text-green-700"}[t]}`,children:r?"--":s})]})}function StatusRow({label:e,value:s,total:t,color:r,loading:n=!1}){let d=t>0?Math.round(s/t*100):0;return(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"font-medium text-slate-700",children:e}),a.jsx("span",{className:"text-slate-500",children:n?"--":`${s} (${d}%)`})]}),a.jsx("div",{className:"h-2 rounded-md bg-slate-100",children:a.jsx("div",{className:`h-2 rounded-md ${r}`,style:{width:`${n?0:d}%`}})})]})}},6573:(e,s,t)=>{"use strict";t.d(s,{Z:()=>ErrorState});var a=t(784);function ErrorState({message:e}){return a.jsx("div",{className:"dt-card border-red-200 bg-red-50/40 p-4 text-sm text-red-700",children:e})}},1618:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>d,__esModule:()=>n,default:()=>o});var a=t(5153);let r=(0,a.createProxy)(String.raw`C:\Users\cshii\OneDrive\Desktop\issue-tracker\frontend\app\dashboard\page.tsx`),{__esModule:n,$$typeof:d}=r,i=r.default,o=i}};var s=require("../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[425,521],()=>__webpack_exec__(5307));module.exports=t})();